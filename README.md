# myojiget

## 概要

入力された名字にまつわる情報をウェブサイト (名字由来net) から取得して表示する遊びプログラム群です。

プログラム名     | 説明
---------------|---------------------------------
myojiget.py    | 指定された名字の情報を取得します。
myojimatrix.py | 行・列に指定された文字の組み合わせからできた名字の人数を数えて表形式にしたテキストを出力します。

## 使用方法

### myojiget.py

```myojiget.py [--nocache] [--text] {myoji}```

* --nocache: キャッシュの使用/登録をしません。
* --text: 取得結果を読みやすく加工したテキストで出力します。(既定の出力形式はJSONです)
* myoji: 検索したい名字を漢字で指定します。

一度取得した名字の情報はキャッシュデータとして
 `~/.myojiget_cache` ディレクトリの中に格納します。  
 次回以降で同じ名字が指定された時はウェブサイトへのアクセスは行わず、代わりにキャッシュデータの内容を出力します。

### myojimatrix.py

```myojimatrix.py {rows_x_cols}```

* rows_x_cols: 行・列にする漢字をそれぞれ半角空白区切りで指定します。

## 使用例

### myojiget.py

オプションを指定なし
```sh
$ myojiget.py 山田
{
  "myojiKanji": "山田",
  "myojiYomis": [
    "やまだ",
    "やまた",
    "ようだ",
    "やだ"
  ],
  "rankInCountry": 12,
  "countInCountry": 814000,
  "myojiOriginDetailUri": "https://mnk-news.net/detail.htm?articleId=444",
  "myojiOrigin": "①古代の山田氏には、山田臣、山田連、山田県主。\n②平城天皇の山田皇子子孫。\n③源氏、平氏、中臣鎌足が天智天皇より賜ったことに始まる氏
（藤原氏）などにもみられる。\n④摂津国八部郡山田庄発祥の族は物部氏。\n⑤清和源氏高屋氏族、穂積氏流ほか。\n\n家紋は巴、藤、剣かたばみ、五七桐、茶の実、
丸に八の字などがある。\n語源は、山の中の田んぼ。"
}
```

`--text` オプション指定あり
```sh
$ myojiget.py 山田 --text
山田さんは全国におよそ「814,000人」います。
人数の多さでは全国第「12位」です。
読み方には「やまだ, やまた, ようだ, やだ」などがあります。

名字の由来解説:
------------------------------------------------------------------------------------
①古代の山田氏には、山田臣、山田連、山田県主。
②平城天皇の山田皇子子孫。
③源氏、平氏、中臣鎌足が天智天皇より賜ったことに始まる氏（藤原氏）などにもみられる。
④摂津国八部郡山田庄発祥の族は物部氏。
⑤清和源氏高屋氏族、穂積氏流ほか。

家紋は巴、藤、剣かたばみ、五七桐、茶の実、丸に八の字などがある。
語源は、山の中の田んぼ。
------------------------------------------------------------------------------------
詳しくは https://mnk-news.net/detail.htm?articleId=444 をご覧ください。
```

### myojimatrix.py

```sh
$ myojimatrix.py "赤 白 青 x 石 木 森"
    |     石     |     木     |     森
----|------------|------------|------------
 赤 |     11,000 |     24,000 |         60
 白 |     99,400 |     20,700 |         20
 青 |        660 |    329,000 |        700
```

列に指定する文字は「|」記号でつなぐことで複数の名字の人数を合算することができます。
```sh
$ myojimatrix.py "大 中 小 x 沢|澤 島|嶋"
    |   沢|澤    |   島|嶋
----|------------|------------
 大 |    117,200 |    146,000
 中 |     99,000 |    479,200
 小 |    152,200 |    255,300

$ myojimatrix.py "大 中 小 x 沢 澤 島 嶋"
    |     沢     |     澤     |     島     |     嶋
----|------------|------------|------------|------------
 大 |     80,200 |     37,000 |    123,000 |     23,000
 中 |     69,800 |     29,200 |    401,000 |     78,200
 小 |    102,000 |     50,200 |    216,000 |     39,300
```

## ライセンス

MIT License
